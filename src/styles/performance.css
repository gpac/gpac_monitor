/* CSS Containment for better resize performance */
.contain-layout {
  contain: layout;
}

.contain-style {
  contain: style;
}

.contain-layout.contain-style {
  contain: layout style;
}

/* Animation optimizations (GPU only during interaction) */
.widget-anim {
  contain: layout paint;
  will-change: auto; /* pas de GPU permanent */
}

.is-interacting .widget-anim {
  will-change: transform, opacity;
}

/* Disable animations during interactions */
.is-interacting,
.is-interacting * {
  transition: none !important;
  animation: none !important;
}

/* Optimize transforms during resize */
.will-change-auto {
  will-change: auto;
}

/* Prevent pointer events during resize to reduce thrashing */
.pointer-events-none {
  pointer-events: none;
}

/* Optimize charts and heavy components during resize */
.resize-optimized {
  backface-visibility: hidden;
}

.is-interacting .resize-optimized {
  transform: translateZ(0); /* GPU pendant interaction */
}

/* Optimize scrollable containers */
.optimize-scroll {
  overflow-anchor: none;
  scroll-behavior: auto;
}

/* GPU-friendly animations */
.gpu-optimized {
  backface-visibility: hidden;
  will-change: auto;
}

.is-interacting .gpu-optimized {
  transform: translateZ(0);
  will-change: transform, opacity;
}

/* Grid optimization during resize */
.grid-resize-optimized {
  contain: layout style;
  will-change: auto;
}

.is-interacting .grid-resize-optimized {
  will-change: transform, opacity;
}

/* Flex optimization */
.flex-resize-optimized {
  contain: layout;
  will-change: auto;
}

.is-interacting .flex-resize-optimized {
  will-change: transform, opacity;
}
